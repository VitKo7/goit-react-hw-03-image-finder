{"version":3,"sources":["components/searchbar/Searchbar.jsx","services/pictureAPI.js","components/imageGalleryItem/ImageGalleryItem.jsx","components/imageGallery/ImageGallery.jsx","shared/button/Button.jsx","shared/loader/Loader.jsx","shared/modal/Modal.jsx","components/App.js","index.js"],"names":["Searchbar","state","search","handleInput","event","target","name","value","setState","handleSubmit","preventDefault","props","onSubmit","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","axios","defaults","baseURL","keyAPI","fetchPictures","query","page","get","then","response","data","ImageGalleryItem","picture","bigImage","src","webformatURL","alt","tags","data-largeimg","largeImageURL","data-tag","onClick","ImageGallery","pictures","map","id","Button","Loader","modalRoot","document","querySelector","Modal","handleKeyDown","code","showModal","handleClick","currentTarget","window","addEventListener","removeEventListener","createPortal","children","App","isLoading","largeImage","imgTags","toggleModal","dataset","largeimg","tag","length","hits","catch","error","console","log","status","headers","request","message","config","finally","alert","showMore","prevState","_","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a210f3e0.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  handleInput = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state); // todo: need more practice here\r\n    // this.resetForm();\r\n  };\r\n\r\n  // resetForm = () => {\r\n  //   this.setState({ search: '' });\r\n  // };\r\n\r\n  // ---------------------------- MARKUP ----------------------------\r\n  render() {\r\n    const { search } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            name=\"search\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInput}\r\n            value={search}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst keyAPI = '20181043-63559380747ebc8efe1373c68';\r\n\r\nexport const fetchPictures = (query = 'universe', page = '1') => {\r\n  return axios\r\n    .get(\r\n      `/?q=${query}&page=${page}&key=${keyAPI}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\n//   let url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=roses&per_page=12&key=20181043-63559380747ebc8efe1373c68&page=1`;\r\n\r\n// axios.defaults.headers.common['Authorization'] = 'Bearer 20181043-63559380747ebc8efe1373c68';\r\n","import React from 'react';\r\n\r\nconst ImageGalleryItem = ({ picture, bigImage }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={picture.webformatURL}\r\n        alt={picture.tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        data-largeimg={picture.largeImageURL}\r\n        data-tag={picture.tags}\r\n        onClick={bigImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ pictures, bigImage }) => {\r\n  // ---------------------------- MARKUP ----------------------------\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {pictures.map(picture => (\r\n        <ImageGalleryItem\r\n          key={picture.id}\r\n          picture={picture}\r\n          bigImage={bigImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div className=\"btn-center\">\r\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n        Load more...\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport './Loader.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"spinner-center\">\r\n      <div className=\"lds-spinner\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  handleClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport Searchbar from './searchbar/Searchbar';\r\nimport { fetchPictures } from '../services/pictureAPI';\r\nimport ImageGallery from './imageGallery/ImageGallery';\r\nimport Button from '../shared/button/Button';\r\nimport Loader from '../shared/loader/Loader';\r\nimport Modal from '../shared/modal/Modal';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    pictures: [],\r\n    search: '',\r\n    page: 1,\r\n    isLoading: false,\r\n    showModal: false,\r\n    largeImage: '',\r\n    imgTags: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetchPictures()\r\n      .then(data => {\r\n        this.setState({ pictures: [...data.hits] });\r\n      })\r\n      .catch(error => {\r\n        if (error.response) {\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n        } else if (error.request) {\r\n          console.log(error.request);\r\n        } else {\r\n          console.log('Error', error.message);\r\n        }\r\n        console.log(error.config);\r\n      });\r\n  }\r\n\r\n  componentDidUpdate(_, prevState) {\r\n    if (prevState.page !== this.state.page) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  bigImage = ({ target }) => {\r\n    const { largeimg, tag } = target.dataset;\r\n    this.setState({\r\n      largeImage: largeimg,\r\n      imgTags: tag,\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n  handleInput = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  onSubmit = ({ search }) => {\r\n    this.setState({ isLoading: true });\r\n    if (!search.length) {\r\n      alert(`Please, fill in the search form`);\r\n    } else {\r\n      this.setState({ search });\r\n\r\n      fetchPictures(search)\r\n        .then(data => {\r\n          this.setState({\r\n            pictures: [...data.hits],\r\n            page: 2,\r\n            isLoading: false,\r\n          });\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            console.log(error.response.data);\r\n            console.log(error.response.status);\r\n            console.log(error.response.headers);\r\n          } else if (error.request) {\r\n            console.log(error.request);\r\n          } else {\r\n            console.log('Error', error.message);\r\n          }\r\n          console.log(error.config);\r\n        })\r\n        .finally(() => this.setState({ isLoading: false }));\r\n    }\r\n  };\r\n\r\n  showMore = () => {\r\n    this.setState({ isLoading: true });\r\n    fetchPictures(this.state.search, this.state.page)\r\n      .then(data => {\r\n        this.setState(prevState => ({\r\n          pictures: [...prevState.pictures, ...data.hits],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        if (error.response) {\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n        } else if (error.request) {\r\n          console.log(error.request);\r\n        } else {\r\n          console.log('Error', error.message);\r\n        }\r\n        console.log(error.config);\r\n      })\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  // * ---------------------------- MARKUP ----------------------------\r\n  render() {\r\n    const { pictures, isLoading, showModal, largeImage, imgTags } = this.state;\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.onSubmit} />\r\n\r\n        <ImageGallery pictures={pictures} bigImage={this.bigImage} />\r\n\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          this.state.page !== 1 && <Button onClick={this.showMore} />\r\n        )}\r\n\r\n        {showModal && (\r\n          <Modal showModal={this.toggleModal}>\r\n            <img src={largeImage} alt={imgTags} />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}